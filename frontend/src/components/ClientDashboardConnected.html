<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScamShield AI - My Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
        }

        .logo::before {
            content: "üõ°Ô∏è";
            font-size: 1.8rem;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: white;
        }

        .user-info {
            text-align: right;
        }

        .user-name {
            font-weight: bold;
            font-size: 1.1rem;
        }

        .user-status {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-left: 1rem;
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        /* Login Screen */
        .login-screen {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 2rem;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 3rem;
            max-width: 400px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        .login-title {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 2rem;
            font-weight: bold;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .login-input {
            padding: 1rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .login-input:focus {
            outline: none;
            border-color: #667eea;
        }

        .login-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .login-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .demo-login {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            margin-top: 1rem;
        }

        .demo-login:hover {
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.3);
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Welcome Section */
        .welcome-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .welcome-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .welcome-title {
            font-size: 2rem;
            color: #667eea;
            font-weight: bold;
        }

        .protection-status {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .welcome-description {
            color: #666;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .stat-card {
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        /* Action Cards */
        .action-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .action-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .action-card.primary {
            border: 3px solid #4CAF50;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1), rgba(255, 255, 255, 0.95));
        }

        .action-card.secondary {
            border: 3px solid #FF9800;
            background: linear-gradient(135deg, rgba(255, 152, 0, 0.1), rgba(255, 255, 255, 0.95));
        }

        .action-card.tertiary {
            border: 3px solid #F44336;
            background: linear-gradient(135deg, rgba(244, 67, 54, 0.1), rgba(255, 255, 255, 0.95));
        }

        .action-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .action-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: #333;
        }

        .action-description {
            color: #666;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .action-button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .action-button.primary {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(76, 175, 80, 0); }
            100% { box-shadow: 0 0 0 0 rgba(76, 175, 80, 0); }
        }

        .action-button.secondary {
            background: linear-gradient(135deg, #FF9800, #F57C00);
        }

        .action-button.tertiary {
            background: linear-gradient(135deg, #F44336, #D32F2F);
        }

        /* Reports Section */
        .reports-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
        }

        .view-all-link {
            color: #667eea;
            text-decoration: none;
            font-weight: bold;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            background: rgba(102, 126, 234, 0.1);
            transition: all 0.3s ease;
        }

        .view-all-link:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        .reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
        }

        .report-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border-left: 5px solid #ddd;
        }

        .report-card:hover {
            transform: translateY(-3px);
        }

        .report-card.completed {
            border-left-color: #4CAF50;
        }

        .report-card.processing {
            border-left-color: #FF9800;
        }

        .report-card.analyzing {
            border-left-color: #2196F3;
        }

        .report-card.pending {
            border-left-color: #9E9E9E;
        }

        .report-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .report-id {
            font-size: 0.9rem;
            color: #666;
            font-weight: bold;
        }

        .report-status {
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .report-status.completed {
            background: #E8F5E8;
            color: #4CAF50;
        }

        .report-status.processing {
            background: #FFF3E0;
            color: #FF9800;
        }

        .report-status.analyzing {
            background: #E3F2FD;
            color: #2196F3;
        }

        .report-status.pending {
            background: #F5F5F5;
            color: #9E9E9E;
        }

        .report-target {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .report-type {
            color: #667eea;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        .report-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: #666;
        }

        .report-actions {
            display: flex;
            gap: 0.5rem;
        }

        .report-button {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .report-button.download {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .report-button.view {
            background: linear-gradient(135deg, #2196F3, #1976D2);
            color: white;
        }

        .report-button.track {
            background: linear-gradient(135deg, #FF9800, #F57C00);
            color: white;
        }

        .report-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        /* Protection Tips */
        .protection-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .protection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .protection-tip {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .protection-tip:hover {
            transform: translateY(-3px);
        }

        .tip-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .tip-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .tip-description {
            color: #666;
            line-height: 1.6;
            font-size: 0.9rem;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #f0f0f0;
            color: #333;
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 2rem;
            color: #333;
            text-align: center;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #333;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Evidence Upload */
        .evidence-section {
            margin: 1.5rem 0;
            padding: 1rem;
            border: 2px dashed #ddd;
            border-radius: 10px;
            background: #f9f9f9;
        }

        .evidence-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .evidence-tab {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 20px;
            background: #e0e0e0;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .evidence-tab.active {
            background: #667eea;
            color: white;
        }

        .upload-area {
            border: 2px dashed #ccc;
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            background: white;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .upload-area:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .upload-area.dragover {
            border-color: #4CAF50;
            background: #f0fff0;
        }

        .upload-icon {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 1rem;
        }

        .upload-text {
            color: #666;
            margin-bottom: 0.5rem;
        }

        .upload-subtext {
            font-size: 0.8rem;
            color: #999;
        }

        .uploaded-files {
            margin-top: 1rem;
        }

        .uploaded-file {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background: white;
            border-radius: 5px;
            margin-bottom: 0.5rem;
            border: 1px solid #ddd;
        }

        .file-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .file-remove {
            background: #f44336;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        /* Links Section */
        .links-section {
            margin: 1.5rem 0;
        }

        .link-input-group {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            align-items: flex-end;
        }

        .link-input {
            flex: 2;
        }

        .link-description {
            flex: 1;
        }

        .add-link-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 0.8rem 1rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-link-btn:hover {
            background: #5a6fd8;
        }

        .added-links {
            margin-top: 1rem;
        }

        .added-link {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background: white;
            border-radius: 5px;
            margin-bottom: 0.5rem;
            border: 1px solid #ddd;
        }

        /* Investigation Levels */
        .investigation-levels {
            display: grid;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .investigation-level {
            border: 2px solid #ddd;
            border-radius: 15px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .investigation-level:hover {
            border-color: #667eea;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.1);
        }

        .investigation-level.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .level-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .level-name {
            font-weight: bold;
            font-size: 1.1rem;
            color: #333;
        }

        .level-price {
            font-weight: bold;
            font-size: 1.2rem;
            color: #667eea;
        }

        .level-features {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Modal Actions */
        .modal-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }

        .modal-button {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .modal-button.cancel {
            background: #f0f0f0;
            color: #666;
        }

        .modal-button.cancel:hover {
            background: #e0e0e0;
        }

        .modal-button.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .modal-button.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .modal-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Loading States */
        .loading {
            opacity: 0.6;
            pointer-events: none;
            position: relative;
        }

        .loading::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid #667eea;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Notification styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.error {
            background: #F44336;
        }

        .notification.warning {
            background: #FF9800;
        }

        .notification.info {
            background: #2196F3;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header {
                padding: 1rem;
            }

            .welcome-title {
                font-size: 1.5rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .action-cards {
                grid-template-columns: 1fr;
            }

            .reports-grid {
                grid-template-columns: 1fr;
            }

            .protection-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                width: 95%;
                padding: 1.5rem;
            }

            .link-input-group {
                flex-direction: column;
            }

            .modal-actions {
                flex-direction: column;
            }

            .evidence-tabs {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .stat-number {
                font-size: 2rem;
            }

            .user-profile {
                flex-direction: column;
                gap: 0.5rem;
            }

            .welcome-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
        }

        /* Hidden class */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-card">
            <h1 class="login-title">üõ°Ô∏è ScamShield AI</h1>
            <form id="loginForm" class="login-form">
                <input type="email" id="loginEmail" class="login-input" placeholder="Email Address" required>
                <input type="password" id="loginPassword" class="login-input" placeholder="Password" required>
                <button type="submit" class="login-button">Sign In</button>
                <button type="button" id="demoLoginBtn" class="login-button demo-login">Try Demo Account</button>
            </form>
            <p style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
                Don't have an account? <a href="#" id="showRegisterForm" style="color: #667eea;">Sign up here</a>
            </p>
        </div>
    </div>

    <!-- Registration Screen -->
    <div id="registerScreen" class="login-screen hidden">
        <div class="login-card">
            <h1 class="login-title">üõ°Ô∏è Join ScamShield AI</h1>
            <form id="registerForm" class="login-form">
                <input type="text" id="registerName" class="login-input" placeholder="Full Name" required>
                <input type="email" id="registerEmail" class="login-input" placeholder="Email Address" required>
                <input type="password" id="registerPassword" class="login-input" placeholder="Password" required>
                <button type="submit" class="login-button">Create Account</button>
            </form>
            <p style="margin-top: 1rem; color: #666; font-size: 0.9rem;">
                Already have an account? <a href="#" id="showLoginForm" style="color: #667eea;">Sign in here</a>
            </p>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="hidden">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                ScamShield AI
            </div>
            <div class="user-profile">
                <div class="user-info">
                    <div class="user-name" id="userName">Loading...</div>
                    <div class="user-status" id="userStatus">Premium Member</div>
                </div>
                <div class="user-avatar" id="userAvatar">?</div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </header>

        <!-- Main Container -->
        <div class="container">
            <!-- Welcome Section -->
            <section class="welcome-section">
                <div class="welcome-header">
                    <h1 class="welcome-title" id="welcomeTitle">Welcome back!</h1>
                    <div class="protection-status">Protected & Secure</div>
                </div>
                <p class="welcome-description">
                    Your personal fraud protection center. Run background checks, track investigations, and stay protected from scams.
                </p>
                <div class="stats-grid" id="statsGrid">
                    <div class="stat-card">
                        <div class="stat-number" id="reportsGenerated">0</div>
                        <div class="stat-label">Reports Generated</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalSpent">$0</div>
                        <div class="stat-label">Total Spent</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="threatsDetected">0</div>
                        <div class="stat-label">Threats Detected</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="successRate">100%</div>
                        <div class="stat-label">Success Rate</div>
                    </div>
                </div>
            </section>

            <!-- Action Cards -->
            <section class="action-cards">
                <div class="action-card primary">
                    <div class="action-icon">üîç</div>
                    <h3 class="action-title">Run New Background Check</h3>
                    <p class="action-description">
                        Verify anyone's identity in seconds. Check criminal records, social media, and fraud databases.
                    </p>
                    <button class="action-button primary" onclick="openInvestigationModal()">
                        + Start Investigation
                    </button>
                </div>

                <div class="action-card secondary">
                    <div class="action-icon">üìÑ</div>
                    <h3 class="action-title">View My Reports</h3>
                    <p class="action-description">
                        Access all your investigation reports, download PDFs, and track ongoing investigations.
                    </p>
                    <button class="action-button secondary" onclick="scrollToReports()">üëÅÔ∏è View Reports</button>
                </div>

                <div class="action-card tertiary">
                    <div class="action-icon">üö®</div>
                    <h3 class="action-title">Fraud Alerts</h3>
                    <p class="action-description">
                        Stay updated on the latest scam trends and get personalized protection recommendations.
                    </p>
                    <button class="action-button tertiary" onclick="scrollToAlerts()">‚ö†Ô∏è View Alerts</button>
                </div>
            </section>

            <!-- Reports Section -->
            <section class="reports-section" id="reports">
                <div class="section-header">
                    <h2 class="section-title">My Recent Reports</h2>
                    <button class="view-all-link" onclick="refreshReports()">üîÑ Refresh</button>
                </div>
                <div class="reports-grid" id="reportsGrid">
                    <!-- Reports will be loaded here -->
                </div>
            </section>

            <!-- Protection Section -->
            <section class="protection-section" id="alerts">
                <h2 class="section-title">Stay Protected</h2>
                <div class="protection-grid">
                    <div class="protection-tip">
                        <div class="tip-icon">üíï</div>
                        <h4 class="tip-title">Romance Scam Alert</h4>
                        <p class="tip-description">
                            Always verify someone's identity before sharing personal information or sending money in online relationships.
                        </p>
                    </div>

                    <div class="protection-tip">
                        <div class="tip-icon">üí∞</div>
                        <h4 class="tip-title">Investment Fraud</h4>
                        <p class="tip-description">
                            Be wary of "guaranteed" high returns. Research investment opportunities and verify credentials before investing.
                        </p>
                    </div>

                    <div class="protection-tip">
                        <div class="tip-icon">üì±</div>
                        <h4 class="tip-title">Phone Scams</h4>
                        <p class="tip-description">
                            Never give personal information over the phone to unsolicited callers. Verify the caller's identity first.
                        </p>
                    </div>

                    <div class="protection-tip">
                        <div class="tip-icon">üîó</div>
                        <h4 class="tip-title">Phishing Links</h4>
                        <p class="tip-description">
                            Don't click suspicious links in emails or texts. Always verify the sender and URL before clicking.
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Investigation Modal -->
    <div id="investigationModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeInvestigationModal()">&times;</button>
            <h2 class="modal-title">Start New Background Check</h2>
            
            <form id="investigationForm">
                <div class="form-group">
                    <label class="form-label">What would you like to investigate?</label>
                    <select class="form-select" id="targetType">
                        <option value="email">Email Address</option>
                        <option value="phone">Phone Number</option>
                        <option value="name">Full Name</option>
                        <option value="domain">Website/Domain</option>
                        <option value="social">Social Media Profile</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Enter Details</label>
                    <input type="text" class="form-input" id="targetValue" placeholder="Enter email, phone, name, or URL..." required>
                </div>

                <div class="form-group">
                    <label class="form-label">üìé Upload Supporting Evidence (Optional)</label>
                    <p style="color: #666; font-size: 0.9rem; margin-bottom: 1rem;">
                        Provide screenshots, documents, messages, or other evidence to enhance your investigation
                    </p>
                    
                    <div class="evidence-section">
                        <div class="evidence-tabs">
                            <button type="button" class="evidence-tab active" onclick="switchEvidenceTab('all')">üìÅ All Files</button>
                            <button type="button" class="evidence-tab" onclick="switchEvidenceTab('screenshots')">üì∑ Screenshots</button>
                            <button type="button" class="evidence-tab" onclick="switchEvidenceTab('messages')">üí¨ Messages</button>
                            <button type="button" class="evidence-tab" onclick="switchEvidenceTab('documents')">üìÑ Documents</button>
                            <button type="button" class="evidence-tab" onclick="switchEvidenceTab('links')">üîó Links</button>
                        </div>
                        
                        <div class="upload-area" id="uploadArea">
                            <div class="upload-icon">‚¨ÜÔ∏è</div>
                            <div class="upload-text">Drag & Drop Files Here</div>
                            <div class="upload-text">or <strong>browse files</strong></div>
                            <div class="upload-subtext">Supports: JPG, PNG, PDF, DOC, TXT, MP4, ZIP</div>
                        </div>
                        <input type="file" id="fileInput" multiple style="display: none;">
                        
                        <div class="uploaded-files" id="uploadedFiles"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">üîó Add Relevant Links</label>
                    <div class="links-section">
                        <div class="link-input-group">
                            <div class="link-input">
                                <input type="url" class="form-input" id="linkUrl" placeholder="https://suspicious-website.com">
                            </div>
                            <div class="link-description">
                                <input type="text" class="form-input" id="linkDescription" placeholder="Description (optional)">
                            </div>
                            <button type="button" class="add-link-btn" onclick="addLink()">+ Add Link</button>
                        </div>
                        <div class="added-links" id="addedLinks"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">üìù Additional Notes</label>
                    <textarea class="form-textarea" id="additionalNotes" placeholder="Describe the context of your evidence, timeline of events, or any specific concerns..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Choose Investigation Level</label>
                    <div class="investigation-levels" id="investigationLevels">
                        <!-- Investigation levels will be loaded here -->
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="modal-button cancel" onclick="closeInvestigationModal()">Cancel</button>
                    <button type="submit" class="modal-button primary" id="submitInvestigation">üí≥ Proceed to Payment</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification"></div>

    <script>
        // API Configuration
        const API_BASE_URL = 'http://localhost:5007';
        
        // Global state
        let currentUser = null;
        let uploadedFiles = [];
        let addedLinks = [];
        let selectedLevel = 'standard';
        let pricingData = {};

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ScamShield AI Client Dashboard initializing...');
            
            // Check if user is already logged in
            checkAuthStatus();
            
            // Load pricing data
            loadPricingData();
            
            // Set up event listeners
            setupEventListeners();
            
            // Set up file upload
            setupFileUpload();
        });

        // Authentication Functions
        async function checkAuthStatus() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/dashboard/stats`, {
                    credentials: 'include'
                });
                
                if (response.ok) {
                    // User is logged in, show dashboard
                    showDashboard();
                    loadDashboardData();
                } else {
                    // User not logged in, show login screen
                    showLoginScreen();
                }
            } catch (error) {
                console.error('Auth check failed:', error);
                showLoginScreen();
            }
        }

        async function login(email, password) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    credentials: 'include',
                    body: JSON.stringify({ email, password })
                });

                const data = await response.json();

                if (response.ok) {
                    currentUser = data.user;
                    showNotification('Login successful!', 'success');
                    showDashboard();
                    loadDashboardData();
                    return true;
                } else {
                    showNotification(data.error || 'Login failed', 'error');
                    return false;
                }
            } catch (error) {
                console.error('Login error:', error);
                showNotification('Login failed. Please try again.', 'error');
                return false;
            }
        }

        async function register(name, email, password) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    credentials: 'include',
                    body: JSON.stringify({ name, email, password })
                });

                const data = await response.json();

                if (response.ok) {
                    currentUser = data.user;
                    showNotification('Registration successful!', 'success');
                    showDashboard();
                    loadDashboardData();
                    return true;
                } else {
                    showNotification(data.error || 'Registration failed', 'error');
                    return false;
                }
            } catch (error) {
                console.error('Registration error:', error);
                showNotification('Registration failed. Please try again.', 'error');
                return false;
            }
        }

        async function demoLogin() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/auth/demo-login`, {
                    method: 'POST',
                    credentials: 'include'
                });

                const data = await response.json();

                if (response.ok) {
                    currentUser = data.user;
                    showNotification('Demo login successful!', 'success');
                    showDashboard();
                    loadDashboardData();
                    return true;
                } else {
                    showNotification(data.error || 'Demo login failed', 'error');
                    return false;
                }
            } catch (error) {
                console.error('Demo login error:', error);
                showNotification('Demo login failed. Please try again.', 'error');
                return false;
            }
        }

        async function logout() {
            try {
                await fetch(`${API_BASE_URL}/api/auth/logout`, {
                    method: 'POST',
                    credentials: 'include'
                });
                
                currentUser = null;
                showNotification('Logged out successfully', 'info');
                showLoginScreen();
            } catch (error) {
                console.error('Logout error:', error);
                showNotification('Logout failed', 'error');
            }
        }

        // UI Functions
        function showLoginScreen() {
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('registerScreen').classList.add('hidden');
            document.getElementById('dashboard').classList.add('hidden');
        }

        function showRegisterScreen() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('registerScreen').classList.remove('hidden');
            document.getElementById('dashboard').classList.add('hidden');
        }

        function showDashboard() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('registerScreen').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
        }

        // Dashboard Data Functions
        async function loadDashboardData() {
            try {
                // Load user stats
                const statsResponse = await fetch(`${API_BASE_URL}/api/dashboard/stats`, {
                    credentials: 'include'
                });
                
                if (statsResponse.ok) {
                    const statsData = await statsResponse.json();
                    updateDashboardStats(statsData.stats);
                }

                // Load recent reports
                const reportsResponse = await fetch(`${API_BASE_URL}/api/dashboard/recent-reports`, {
                    credentials: 'include'
                });
                
                if (reportsResponse.ok) {
                    const reportsData = await reportsResponse.json();
                    updateReportsGrid(reportsData.reports);
                }

                // Update user info
                if (currentUser) {
                    updateUserInfo(currentUser);
                }

            } catch (error) {
                console.error('Failed to load dashboard data:', error);
                showNotification('Failed to load dashboard data', 'error');
            }
        }

        function updateDashboardStats(stats) {
            document.getElementById('reportsGenerated').textContent = stats.reports_generated || 0;
            document.getElementById('totalSpent').textContent = `$${stats.total_spent || 0}`;
            document.getElementById('threatsDetected').textContent = stats.threats_detected || 0;
            document.getElementById('successRate').textContent = `${stats.success_rate || 100}%`;
        }

        function updateUserInfo(user) {
            document.getElementById('userName').textContent = user.name;
            document.getElementById('userStatus').textContent = user.membership_type.charAt(0).toUpperCase() + user.membership_type.slice(1) + ' Member';
            document.getElementById('userAvatar').textContent = user.name.split(' ').map(n => n[0]).join('').toUpperCase();
            document.getElementById('welcomeTitle').textContent = `Welcome back, ${user.name.split(' ')[0]}!`;
        }

        function updateReportsGrid(reports) {
            const grid = document.getElementById('reportsGrid');
            
            if (reports.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: #666; padding: 2rem;">No reports yet. Start your first investigation!</p>';
                return;
            }

            grid.innerHTML = reports.map(report => `
                <div class="report-card ${report.status}">
                    <div class="report-header">
                        <div class="report-id">#${report.investigation_id}</div>
                        <div class="report-status ${report.status}">${report.status}</div>
                    </div>
                    <div class="report-target">${report.target_value}</div>
                    <div class="report-type">${report.investigation_level.charAt(0).toUpperCase() + report.investigation_level.slice(1)} Investigation</div>
                    <div class="report-meta">
                        <span>${formatDate(report.created_at)}</span>
                        <span>$${report.price}</span>
                    </div>
                    <div class="report-actions">
                        ${getReportActions(report)}
                    </div>
                </div>
            `).join('');
        }

        function getReportActions(report) {
            switch (report.status) {
                case 'completed':
                    return `
                        <button class="report-button download" onclick="downloadReport('${report.investigation_id}')">‚¨áÔ∏è Download</button>
                        <button class="report-button view" onclick="viewReport('${report.investigation_id}')">üëÅÔ∏è View</button>
                    `;
                case 'processing':
                case 'analyzing':
                    return `<button class="report-button track" onclick="trackProgress('${report.investigation_id}')">üìä Track Progress</button>`;
                case 'pending':
                    return `<button class="report-button track" onclick="processPayment('${report.investigation_id}')">üí≥ Pay Now</button>`;
                default:
                    return '';
            }
        }

        // Investigation Functions
        async function loadPricingData() {
            try {
                const response = await fetch(`${API_BASE_URL}/api/pricing`);
                const data = await response.json();
                pricingData = data.pricing;
                updateInvestigationLevels();
            } catch (error) {
                console.error('Failed to load pricing:', error);
            }
        }

        function updateInvestigationLevels() {
            const container = document.getElementById('investigationLevels');
            if (!container || !pricingData) return;

            container.innerHTML = Object.entries(pricingData).map(([level, info]) => `
                <div class="investigation-level ${level === selectedLevel ? 'selected' : ''}" onclick="selectLevel('${level}')">
                    <div class="level-header">
                        <div class="level-name">${level.charAt(0).toUpperCase() + level.slice(1)} Investigation</div>
                        <div class="level-price">$${info.price}</div>
                    </div>
                    <div class="level-features">${info.features.join(' ‚Ä¢ ')}</div>
                </div>
            `).join('');
        }

        function selectLevel(level) {
            selectedLevel = level;
            updateInvestigationLevels();
        }

        async function createInvestigation(formData) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/investigations/create`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    credentials: 'include',
                    body: JSON.stringify(formData)
                });

                const data = await response.json();

                if (response.ok) {
                    showNotification('Investigation created successfully!', 'success');
                    
                    // Upload files if any
                    if (uploadedFiles.length > 0) {
                        await uploadEvidenceFiles(data.investigation.investigation_id);
                    }
                    
                    // Process payment
                    await processPayment(data.investigation.investigation_id);
                    
                    return data.investigation;
                } else {
                    showNotification(data.error || 'Failed to create investigation', 'error');
                    return null;
                }
            } catch (error) {
                console.error('Investigation creation error:', error);
                showNotification('Failed to create investigation', 'error');
                return null;
            }
        }

        async function uploadEvidenceFiles(investigationId) {
            if (uploadedFiles.length === 0) return;

            try {
                const formData = new FormData();
                uploadedFiles.forEach(file => {
                    formData.append('files', file);
                });

                const response = await fetch(`${API_BASE_URL}/api/investigations/${investigationId}/upload-evidence`, {
                    method: 'POST',
                    credentials: 'include',
                    body: formData
                });

                if (response.ok) {
                    showNotification(`Uploaded ${uploadedFiles.length} evidence files`, 'success');
                } else {
                    showNotification('Failed to upload evidence files', 'warning');
                }
            } catch (error) {
                console.error('Evidence upload error:', error);
                showNotification('Failed to upload evidence files', 'error');
            }
        }

        async function processPayment(investigationId) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/payment/process`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    credentials: 'include',
                    body: JSON.stringify({
                        investigation_id: investigationId,
                        payment_method: 'stripe'
                    })
                });

                const data = await response.json();

                if (response.ok) {
                    showNotification('Payment processed successfully! Investigation started.', 'success');
                    closeInvestigationModal();
                    refreshReports();
                    loadDashboardData();
                } else {
                    showNotification(data.error || 'Payment failed', 'error');
                }
            } catch (error) {
                console.error('Payment error:', error);
                showNotification('Payment processing failed', 'error');
            }
        }

        // Report Functions
        async function downloadReport(investigationId) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/investigations/${investigationId}/download-report`, {
                    credentials: 'include'
                });

                if (response.ok) {
                    const blob = await response.blob();
                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `ScamShield_Report_${investigationId}.pdf`;
                    document.body.appendChild(a);
                    a.click();
                    window.URL.revokeObjectURL(url);
                    document.body.removeChild(a);
                    showNotification('Report downloaded successfully', 'success');
                } else {
                    showNotification('Report not ready for download', 'warning');
                }
            } catch (error) {
                console.error('Download error:', error);
                showNotification('Failed to download report', 'error');
            }
        }

        async function viewReport(investigationId) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/investigations/${investigationId}/status`, {
                    credentials: 'include'
                });

                if (response.ok) {
                    const data = await response.json();
                    const investigation = data.investigation;
                    
                    // Show investigation details in a modal or new page
                    showNotification(`Investigation ${investigationId}: ${investigation.status}`, 'info');
                } else {
                    showNotification('Failed to load investigation details', 'error');
                }
            } catch (error) {
                console.error('View report error:', error);
                showNotification('Failed to view report', 'error');
            }
        }

        async function trackProgress(investigationId) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/investigations/${investigationId}/status`, {
                    credentials: 'include'
                });

                if (response.ok) {
                    const data = await response.json();
                    const investigation = data.investigation;
                    showNotification(`Investigation ${investigationId} is ${investigation.status}`, 'info');
                } else {
                    showNotification('Failed to track progress', 'error');
                }
            } catch (error) {
                console.error('Track progress error:', error);
                showNotification('Failed to track progress', 'error');
            }
        }

        // File Upload Functions
        function setupFileUpload() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');

            uploadArea.addEventListener('click', () => fileInput.click());
            uploadArea.addEventListener('dragover', handleDragOver);
            uploadArea.addEventListener('dragleave', handleDragLeave);
            uploadArea.addEventListener('drop', handleDrop);
            fileInput.addEventListener('change', handleFileSelect);
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('dragover');
            const files = Array.from(e.dataTransfer.files);
            addFilesToUpload(files);
        }

        function handleFileSelect(e) {
            const files = Array.from(e.target.files);
            addFilesToUpload(files);
        }

        function addFilesToUpload(files) {
            files.forEach(file => {
                if (file.size > 50 * 1024 * 1024) { // 50MB limit
                    showNotification(`File ${file.name} is too large (max 50MB)`, 'warning');
                    return;
                }
                
                uploadedFiles.push(file);
                addFileToDisplay(file);
            });
        }

        function addFileToDisplay(file) {
            const container = document.getElementById('uploadedFiles');
            const fileDiv = document.createElement('div');
            fileDiv.className = 'uploaded-file';
            fileDiv.innerHTML = `
                <div class="file-info">
                    <span>üìé ${file.name}</span>
                    <small>(${formatFileSize(file.size)})</small>
                </div>
                <button class="file-remove" onclick="removeFile('${file.name}')">&times;</button>
            `;
            container.appendChild(fileDiv);
        }

        function removeFile(fileName) {
            uploadedFiles = uploadedFiles.filter(file => file.name !== fileName);
            updateFileDisplay();
        }

        function updateFileDisplay() {
            const container = document.getElementById('uploadedFiles');
            container.innerHTML = '';
            uploadedFiles.forEach(file => addFileToDisplay(file));
        }

        // Link Functions
        function addLink() {
            const urlInput = document.getElementById('linkUrl');
            const descInput = document.getElementById('linkDescription');
            
            const url = urlInput.value.trim();
            const description = descInput.value.trim();
            
            if (!url) {
                showNotification('Please enter a URL', 'warning');
                return;
            }
            
            addedLinks.push({ url, description });
            addLinkToDisplay({ url, description });
            
            urlInput.value = '';
            descInput.value = '';
        }

        function addLinkToDisplay(link) {
            const container = document.getElementById('addedLinks');
            const linkDiv = document.createElement('div');
            linkDiv.className = 'added-link';
            linkDiv.innerHTML = `
                <div>
                    <div>üîó ${link.url}</div>
                    ${link.description ? `<small>${link.description}</small>` : ''}
                </div>
                <button class="file-remove" onclick="removeLink('${link.url}')">&times;</button>
            `;
            container.appendChild(linkDiv);
        }

        function removeLink(url) {
            addedLinks = addedLinks.filter(link => link.url !== url);
            updateLinkDisplay();
        }

        function updateLinkDisplay() {
            const container = document.getElementById('addedLinks');
            container.innerHTML = '';
            addedLinks.forEach(link => addLinkToDisplay(link));
        }

        // Modal Functions
        function openInvestigationModal() {
            document.getElementById('investigationModal').classList.add('show');
            document.body.style.overflow = 'hidden';
            
            // Reset form
            document.getElementById('investigationForm').reset();
            uploadedFiles = [];
            addedLinks = [];
            selectedLevel = 'standard';
            updateFileDisplay();
            updateLinkDisplay();
            updateInvestigationLevels();
        }

        function closeInvestigationModal() {
            document.getElementById('investigationModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        // Event Listeners
        function setupEventListeners() {
            // Login form
            document.getElementById('loginForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                await login(email, password);
            });

            // Register form
            document.getElementById('registerForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;
                await register(name, email, password);
            });

            // Demo login
            document.getElementById('demoLoginBtn').addEventListener('click', demoLogin);

            // Form toggles
            document.getElementById('showRegisterForm').addEventListener('click', (e) => {
                e.preventDefault();
                showRegisterScreen();
            });

            document.getElementById('showLoginForm').addEventListener('click', (e) => {
                e.preventDefault();
                showLoginScreen();
            });

            // Investigation form
            document.getElementById('investigationForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const formData = {
                    target_type: document.getElementById('targetType').value,
                    target_value: document.getElementById('targetValue').value,
                    investigation_level: selectedLevel,
                    additional_notes: document.getElementById('additionalNotes').value,
                    evidence_links: addedLinks
                };

                const submitButton = document.getElementById('submitInvestigation');
                submitButton.disabled = true;
                submitButton.textContent = 'Processing...';

                await createInvestigation(formData);

                submitButton.disabled = false;
                submitButton.textContent = 'üí≥ Proceed to Payment';
            });

            // Modal close on backdrop click
            document.getElementById('investigationModal').addEventListener('click', (e) => {
                if (e.target === e.currentTarget) {
                    closeInvestigationModal();
                }
            });
        }

        // Utility Functions
        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffMs = now - date;
            const diffHours = Math.floor(diffMs / (1000 * 60 * 60));
            const diffDays = Math.floor(diffHours / 24);

            if (diffHours < 1) return 'Just now';
            if (diffHours < 24) return `${diffHours} hours ago`;
            if (diffDays === 1) return '1 day ago';
            return `${diffDays} days ago`;
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        function scrollToReports() {
            document.getElementById('reports').scrollIntoView({ behavior: 'smooth' });
        }

        function scrollToAlerts() {
            document.getElementById('alerts').scrollIntoView({ behavior: 'smooth' });
        }

        function refreshReports() {
            loadDashboardData();
            showNotification('Reports refreshed', 'info');
        }

        function switchEvidenceTab(tab) {
            document.querySelectorAll('.evidence-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Auto-refresh reports every 30 seconds
        setInterval(() => {
            if (currentUser && !document.getElementById('dashboard').classList.contains('hidden')) {
                loadDashboardData();
            }
        }, 30000);
    </script>
</body>
</html>

